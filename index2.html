<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vibe Flow | Home</title>

  <script src="https://cdn.tailwindcss.com"></script>

  
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    body {
      font-family: 'Open Sans', 'Lato', sans-serif;
      background-color: #0d1117;
      color: #f1f5f9;
    }

    nav {
      background-color: #161b22;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    nav a:hover { color: #3b82f6; }

    .hero {
      background: url('https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4') center/cover no-repeat;
      min-height: 70vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      position: relative;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background-color: rgba(0,0,0,0.6);
    }

    .hero-content { position: relative; z-index: 10; }

    .hero h1 {
      font-size: 3rem;
      font-weight: bold;
      color: #3b82f6;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(59,130,246,0.4);
      transition: 0.3s ease-in-out;
    }

    footer { background-color: #161b22; color: #9ca3af; }

    .like-badge {
      background-color: #3b82f6;
      color: white;
      font-size: 0.8rem;
      padding: 2px 6px;
      border-radius: 9999px;
      position: relative;
      top: -5px;
      left: 2px;
    }

    #admin-panel {
      background-color: #161b22;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 20px;
      margin: 20px;
    }
  </style>
</head>
<body>

 
  <nav class="flex justify-between items-center px-6 py-4">
    <div class="flex items-center space-x-4">
      <h1 class="text-2xl font-bold text-[#3b82f6]">Vibe Flow</h1>
      <ul class="flex space-x-6 text-gray-300 hidden md:flex">
        <li><a href="#" class="hover:text-[#3b82f6] text-[#3b82f6] font-semibold">Home</a></li>
        <li><a href="discover.html" class="hover:text-[#3b82f6]">Discover</a></li>
        <li><a href="#" class="hover:text-[#3b82f6]"></a></li>
        <li><a href="library.html" class="hover:text-[#3b82f6] flex items-center">
          Library <span id="likeCount" class="like-badge ml-1">0</span>
        </a></li>
        <li><a href="playlist.html" class="hover:text-[#3b82f6] font-semibold">Playlist</a></li>
        <li><a href="#" class="hover:text-[#3b82f6]"></a></li>
      </ul>
    </div>
    <div class="flex space-x-4">
      <button id="roleSwitchBtn"
  class="px-4 py-1 bg-gray-700 text-white rounded hover:bg-gray-600"
  onclick="window.location.href='admin.html'">Go to Admin</button>

      <a href="index.html" class="px-4 py-1 text-white bg-[#3b82f6] rounded hover:bg-[#2563eb]">Login</a>
      <a href="index.html" class="px-4 py-1 border-[#3b82f6] text-[#3b82f6] border rounded hover:bg-[#3b82f6] hover:text-white">Sign Up</a>
    </div>
  </nav>

  
  <section class="hero flex flex-col justify-center items-center p-6">
    <div class="hero-content max-w-2xl text-center">
      <h1 class="mb-4">Discover Your Favorite Music</h1>
      <p class="mb-6 text-gray-300">Search for songs, artists, or playlists and enjoy the vibes</p>
      <div class="flex mb-4">
        <input type="text" placeholder="Search music..." class="p-3 rounded-l w-full md:w-96 focus:outline-none" />
        <button class="btn btn-primary bg-[#3b82f6] rounded-r px-4 hover:bg-[#2563eb]">Search</button>
      </div>
      <div>
        <button class="btn btn-primary bg-[#3b82f6] px-6 py-2 rounded mr-2 hover:bg-[#2563eb]">Explore Music</button>
        <button onclick="window.location.href='library.html'" class="btn btn-outline-primary border-[#3b82f6] text-[#3b82f6] px-6 py-2 rounded hover:bg-[#3b82f6] hover:text-white">Go to Library</button>
      </div>
    </div>
  </section>

  
  <section class="p-6">
    <h2 class="text-2xl font-bold mb-4 text-[#3b82f6]">Featured Playlists</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6" id="featured-section"></div>
  </section>

  <section class="p-6">
    <h2 class="text-2xl font-bold mb-4 text-[#3b82f6]">Popular Songs</h2>
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6" id="popular-section"></div>
  </section>

  <section class="p-6">
    <h2 class="text-2xl font-bold mb-4 text-[#3b82f6]">New Releases</h2>
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6" id="newrelease-section"></div>
  </section>

  <section class="p-6">
    <h2 class="text-2xl font-bold mb-4 text-[#3b82f6]">Recommended For You</h2>
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6" id="recommend-section"></div>
  </section>

 
  <section id="admin-panel" class="hidden">
    <h2 class="text-2xl font-bold mb-4 text-[#3b82f6]">Admin Panel</h2>
    <p class="text-gray-400 mb-4">Manage user liked songs and system content below.</p>
    <div id="adminLikedSongs" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6"></div>
  </section>

  
  <footer class="text-center p-6 mt-6">
    <p>&copy; 2025 Vibe Flow. All rights reserved.</p>
    <div class="flex justify-center space-x-4 my-2">
      <a href="#" class="hover:text-[#3b82f6]"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="hover:text-[#3b82f6]"><i class="fab fa-twitter"></i></a>
      <a href="#" class="hover:text-[#3b82f6]"><i class="fab fa-instagram"></i></a>
    </div>
  </footer>

  
  <script>
    
    function updateLikeCount() {
      const liked = JSON.parse(localStorage.getItem('likedSongs')) || [];
      document.getElementById('likeCount').innerText = liked.length;
    }

    function saveToLibrary(song) {
      let likedSongs = JSON.parse(localStorage.getItem('likedSongs')) || [];
      if (!likedSongs.some(s => s.title === song.title)) {
        likedSongs.push(song);
        localStorage.setItem('likedSongs', JSON.stringify(likedSongs));
        updateLikeCount();
        alert(`ðŸ’™ "${song.title}" added to your Library!`);
      } else {
        alert(`"${song.title}" is already in your Library.`);
      }
    }

   
    const roleBtn = document.getElementById('roleSwitchBtn');
    const adminPanel = document.getElementById('admin-panel');

    function loadRole() {
      const role = localStorage.getItem('userRole') || 'client';
      if (role === 'admin') {
        adminPanel.classList.remove('hidden');
        roleBtn.innerText = "Switch to Client";
        renderAdminSongs();
      } else {
        adminPanel.classList.add('hidden');
        roleBtn.innerText = "Switch to Admin";
      }
    }

    roleBtn.addEventListener('click', () => {
      const current = localStorage.getItem('userRole') || 'client';
      const newRole = current === 'client' ? 'admin' : 'client';
      localStorage.setItem('userRole', newRole);
      loadRole();
    });

   
    function renderAdminSongs() {
      const likedSongs = JSON.parse(localStorage.getItem('likedSongs')) || [];
      const adminContainer = document.getElementById('adminLikedSongs');
      if (likedSongs.length === 0) {
        adminContainer.innerHTML = "<p class='text-gray-400 col-span-full text-center'>No liked songs yet.</p>";
        return;
      }
      adminContainer.innerHTML = likedSongs.map((s, i) => `
        <div class="bg-[#161b22] rounded-lg p-4 flex flex-col items-center text-center">
          <img src="${s.img}" class="rounded mb-3 w-full h-40 object-cover" />
          <h3 class="font-semibold">${s.title}</h3>
          <p class="text-gray-400 text-sm mb-2">${s.artist}</p>
          <button onclick="removeFromAdmin(${i})" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">
            <i class="fa fa-trash"></i> Delete
          </button>
        </div>
      `).join('');
    }

    function removeFromAdmin(index) {
      let likedSongs = JSON.parse(localStorage.getItem('likedSongs')) || [];
      likedSongs.splice(index, 1);
      localStorage.setItem('likedSongs', JSON.stringify(likedSongs));
      renderAdminSongs();
      updateLikeCount();
    }

   
    function createCard(img, title, desc, audioSrc) {
  const songData = { img, title, artist: desc, audio: audioSrc };
  const safeTitle = title.replace(/\s+/g,'-'); 
  return `
    <div class="card bg-[#161b22] rounded-lg p-4 flex flex-col items-center text-center">
      <img src="${img}" alt="${title}" class="rounded mb-2 w-full h-40 object-cover"/>
      <h3 class="font-semibold">${title}</h3>
      <p class="text-gray-400 text-sm">${desc}</p>
      <div class="flex space-x-2 mt-2">
        <button id="play-btn-${safeTitle}" 
                onclick="toggleAudio('audio-${safeTitle}', 'play-btn-${safeTitle}')"
                class="bg-[#3b82f6] hover:bg-[#2563eb] px-3 py-1 rounded text-sm">
          <i class="fa fa-play"></i> Play
        </button>
        <button onclick='saveToLibrary(${JSON.stringify(songData)})' 
                class="border border-[#3b82f6] text-[#3b82f6] px-3 py-1 rounded hover:bg-[#3b82f6] hover:text-white text-sm">
          <i class="fa fa-heart"></i> Like
        </button>
      </div>
      <audio id="audio-${safeTitle}" src="${audioSrc}"></audio>
    </div>
  `;
}
let currentlyPlaying = null; 

function toggleAudio(audioId, btnId) {
  const audio = document.getElementById(audioId);
  const btn = document.getElementById(btnId);

  
  if (currentlyPlaying && currentlyPlaying.audio !== audio) {
    currentlyPlaying.audio.pause();
    currentlyPlaying.button.innerHTML = '<i class="fa fa-play"></i> Play';
  }

  if (audio.paused) {
    audio.play();
    btn.innerHTML = '<i class="fa fa-pause"></i> Pause';
    currentlyPlaying = { audio, button: btn };
  } else {
    audio.pause();
    btn.innerHTML = '<i class="fa fa-play"></i> Play';
    currentlyPlaying = null;
  }

  
  audio.onended = () => {
    btn.innerHTML = '<i class="fa fa-play"></i> Play';
    currentlyPlaying = null;
  };
}


    
    const featuredData = [
      ["https://tse2.mm.bing.net/th/id/OIP.dr7gDnwTlTXzCzWKOLhw0AHaHa?pid=Api&P=0&h=180","Chill Vibes","Relaxing tunes","song1.mp3"],
      ["https://tse4.mm.bing.net/th/id/OIP.wqF7tBXbVYV3aJbynsewVAHaHa?pid=Api&P=0&h=180","Top Hits","Most played songs","song2.mp3"],
      ["https://tse3.mm.bing.net/th/id/OIP.qwHDH0em3EL7JkUKWMZGaAHaGq?pid=Api&P=0&h=180","Acoustic Moods","Gentle acoustic music","yerate.mp3"],
      ["https://tse1.mm.bing.net/th/id/OIP.oed2SIlZAP6JxqS7gFihUgHaHa?pid=Api&P=0&h=180","Mood Booster","Upbeat tracks",""],
      ["https://tse1.mm.bing.net/th/id/OIP.uePOkrAZFZYBC7nTJAfuCgHaHa?pid=Api&P=0&h=180","Relaxing Evening","Smooth chill music","song4.mp3"]
    ];

    const popularData = [
      ["https://tse1.mm.bing.net/th/id/OIP.fp9xjyGyyIQDpGckzXc1SQHaHa?pid=Api&P=0&h=180","Kesariya ","Play count: 1.2M","kesariya.mp3"],
      ["https://tse2.mm.bing.net/th/id/OIP.dr7gDnwTlTXzCzWKOLhw0AHaHa?pid=Api&P=0&h=180","Song 2","Play count: 980K","Play"],
      ["https://tse3.mm.bing.net/th/id/OIP.y_wXr_lEwN7MYC_Jws3nJQHaEK?pid=Api&P=0&h=180","Ranjhaan","Play count: 890K","raanjhan.mp3"],
      ["https://tse4.mm.bing.net/th/id/OIP.Q9pp0HU7xhzsgnBcHsbRmgHaFV?pid=Api&P=0&h=180","Jab tak","Play count: 770K","jabtak.mp3"],
      ["https://tse4.mm.bing.net/th/id/OIP.8NKfEzElIvT2CsSPF0WzuwHaEK?pid=Api&P=0&h=180","Qafirana","Play count: 650K","qafirana.mp3"]
    ];

    const newReleaseData = [
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRZyNoEmgXD0U5bEciaziDORGTGFSmlx88i2g&s","Album 1","Released: Oct 2025","Listen"],
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRrhnimknSH_nNEFBeTj4hTaFNaF6orkhQb1Q&s","Album 2","Released: Oct 2025","Listen"],
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJp4Zlmu7JlVZFOxo5SBLwSOZuQngPo6YI-Q&s","Album 3","Released: Sep 2025","song3.mp3"],
      ["https://i1.sndcdn.com/artworks-VkI5WMCYcX4pn7qY-Z4R9Sw-t1080x1080.jpg","Album 4","Released: Sep 2025","song4.mp3"],
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfYfqukkEfFB7hPiChtJsk-PZAIwHK4_r1WA&s","Album 5","Released: Aug 2025","jabtak.mp3"]
    ];

    const recommendData = [
      ["https://www.pagaiworld.com/covers/sahiba-x-pal-pal-mashup_4.jpg","Artist 1","Relaxing vibes","Listen"],
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRZyNoEmgXD0U5bEciaziDORGTGFSmlx88i2g&s","Artist 2","Chill tracks","Listen"],
      ["https://static.toiimg.com/thumb/msid-66055926,width-400,resizemode-4/66055926.jpg","Artist 3","Top hits","Listen"],
      ["https://images.genius.com/e93b793b36e31054777d0b56c6698076.1000x1000x1.jpg","Artist 4","Trending","Listen"],
      ["https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfYfqukkEfFB7hPiChtJsk-PZAIwHK4_r1WA&s","Artist 5","Mood booster","Listen"]
    ];

   
    document.getElementById('featured-section').innerHTML = featuredData.map(f => createCard(...f)).join('');
    document.getElementById('popular-section').innerHTML = popularData.map(f => createCard(...f)).join('');
    document.getElementById('newrelease-section').innerHTML = newReleaseData.map(f => createCard(...f)).join('');
    document.getElementById('recommend-section').innerHTML = recommendData.map(f => createCard(...f)).join('');

   
    updateLikeCount();
    loadRole();
  </script>

</body>
</html>
